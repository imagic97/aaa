import{d as f,j as _,k as w,l as k,o as u,m as d,n as l,t as h,F as m,p as E}from"./vendor-others-Cn62k0lQ.js";class g{_fakeEl=null;constructor(){this._fakeEl=null}copy(t){return new Promise((o,n)=>{this._removeFake(),this._addFake(t);const r=this._doCopy();this._removeFake(),r?o():n(new Error(`您的浏览器不支持一键复制，请手动复制：
${t}`))})}_addFake(t){const o=window.document.documentElement.getAttribute("dir")==="rtl";this._fakeEl=window.document.createElement("textarea"),this._fakeEl.style.position="absolute",this._fakeEl.style[o?"right":"left"]="-9999px",this._fakeEl.style.top=`${window.pageYOffset||window.document.documentElement.scrollTop}px`,this._fakeEl.setAttribute("readonly",""),this._fakeEl.value=t,window.document.body.appendChild(this._fakeEl),this._fakeEl.select(),this._fakeEl.setSelectionRange(0,this._fakeEl.value.length)}_removeFake(){this._fakeEl!==null&&(window.document.body.removeChild(this._fakeEl),this._fakeEl.remove(),this._fakeEl=null)}_doCopy(){try{return window.document.execCommand("copy")}catch{return!1}}copyImage(t){return Promise.resolve().then(()=>{if(!navigator.clipboard)throw new Error("您的浏览器暂不支持复制图像");return new Promise((o,n)=>{if(t.type==="image/png")return o(t);try{var r=document.createElement("canvas");let e=new Image;e.setAttribute("crossOrigin","Anonymous"),e.src=window.URL.createObjectURL(t);let a=r.getContext("2d");a||n("创建 Canvas 失败"),e.onload=()=>{r.width=e.width,r.height=e.height,a.drawImage(e,0,0),r.toBlob(i=>{i?o(i):n("转换失败")},"image/png")}}catch(e){n(e)}}).then(o=>{const n=new ClipboardItem({[o.type]:o});return navigator.clipboard.write([n])})})}}const y=new g,v=["onClick"],C=f({__name:"index",setup(p){const t=_(),o=w(()=>t.value?t.value.ipAddress.split(/\s+/):[]),n=({username:e,repo:a,issueNumber:i})=>{const c=`https://api.github.com/repos/${e}/${a}/issues/${i}`;fetch(c).then(s=>{if(!s.ok)throw new Error("Error!");return s.json()}).then(s=>{t.value=JSON.parse(s.body)}).catch(s=>{console.error(s)})},r=e=>{y.copy(e)};return k(()=>{let e=window.location.href.match(/https:\/\/([^\/]+)\.github\.io\/([^\/]+)\/#/);e&&n({repo:e[2],username:e[1],issueNumber:2})}),(e,a)=>(u(),d(m,null,[l("h4",null,"time: "+h(t.value?.timestamp),1),(u(!0),d(m,null,E(o.value,(i,c)=>(u(),d("div",null,[l("label",null,"ipv6_"+h(c+1)+": ",1),l("span",null,"["+h(i)+"]",1),l("button",{onClick:s=>r(i)},"copy",8,v)]))),256))],64))}});export{C as default};
