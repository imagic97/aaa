import{d as p,j as f,k as _,l as w,o as d,m as u,n as k,F as E,p as c,t as h}from"./vendor-others-DrWRsYpb.js";class g{_fakeEl=null;constructor(){this._fakeEl=null}copy(t){return new Promise((o,n)=>{this._removeFake(),this._addFake(t);const r=this._doCopy();this._removeFake(),r?o():n(new Error(`您的浏览器不支持一键复制，请手动复制：
${t}`))})}_addFake(t){const o=window.document.documentElement.getAttribute("dir")==="rtl";this._fakeEl=window.document.createElement("textarea"),this._fakeEl.style.position="absolute",this._fakeEl.style[o?"right":"left"]="-9999px",this._fakeEl.style.top=`${window.pageYOffset||window.document.documentElement.scrollTop}px`,this._fakeEl.setAttribute("readonly",""),this._fakeEl.value=t,window.document.body.appendChild(this._fakeEl),this._fakeEl.select(),this._fakeEl.setSelectionRange(0,this._fakeEl.value.length)}_removeFake(){this._fakeEl!==null&&(window.document.body.removeChild(this._fakeEl),this._fakeEl.remove(),this._fakeEl=null)}_doCopy(){try{return window.document.execCommand("copy")}catch{return!1}}copyImage(t){return Promise.resolve().then(()=>{if(!navigator.clipboard)throw new Error("您的浏览器暂不支持复制图像");return new Promise((o,n)=>{if(t.type==="image/png")return o(t);try{var r=document.createElement("canvas");let e=new Image;e.setAttribute("crossOrigin","Anonymous"),e.src=window.URL.createObjectURL(t);let a=r.getContext("2d");a||n("创建 Canvas 失败"),e.onload=()=>{r.width=e.width,r.height=e.height,a.drawImage(e,0,0),r.toBlob(i=>{i?o(i):n("转换失败")},"image/png")}}catch(e){n(e)}}).then(o=>{const n=new ClipboardItem({[o.type]:o});return navigator.clipboard.write([n])})})}}const y=new g,v=["onClick"],C=p({__name:"index",setup(m){const t=f(""),o=_(()=>t.value.split(/\s+/)),n=({username:e,repo:a,issueNumber:i})=>{const l=`https://api.github.com/repos/${e}/${a}/issues/${i}`;fetch(l).then(s=>{if(!s.ok)throw new Error("Error!");return s.json()}).then(s=>{t.value=JSON.parse(s.body)}).catch(s=>{console.error(s)})},r=e=>{y.copy(e)};return w(()=>{let e=window.location.href.match(/https:\/\/([^\/]+)\.github\.io\/([^\/]+)\/#/);e&&n({repo:e[2],username:e[1],issueNumber:2})}),(e,a)=>(d(!0),u(E,null,k(o.value,(i,l)=>(d(),u("div",null,[c("label",null,"ipv6_"+h(l+1)+": ",1),c("span",null,"["+h(i)+"]",1),c("button",{onClick:s=>r(i)},"copy",8,v)]))),256))}});export{C as default};
