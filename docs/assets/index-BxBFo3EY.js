import{V as b,d as x,j as m,w as M,l as S,o as u,m as v,p as g,t as B,e as h,q as y,s as _,v as q,x as C,F as E,y as O}from"./vendor-others-DrWRsYpb.js";import{p as P,c as T,a as V,b as j}from"./vendor-vue-compiler-sfc-W1qvQjG6.js";import{b as L}from"./vendor-babel-bGxnOmAa.js";import{c as F}from"./vendor-sass-DdS4qlop.js";const H=`
@use "sass:math";
`,I=()=>{const r="abcdefghijklmnopqrstuvwxyz0123456789";let t="";for(let s=0;s<6;s++){const n=Math.floor(Math.random()*r.length);t+=r[n]}return t},k=(r,t)=>{const s=L.transform(r,{sourceType:"module",sourceMaps:!1,presets:["env"],filename:t});return s!==null&&s.code!==void 0&&s.code!==null?s.code:""},f=r=>{switch(r){case"vue":return b;default:throw new Error(`unsupported pluginï¼š${r}`)}},w=r=>{const t={exports:{}};return Function("exports","require","module","Vue",r).apply(t.exports,[t.exports,f,b,t]),t},R=r=>{const t={};let s="";const n=I(),l=!1,i=!1,e=P(r,{sourceMap:i});if(e.errors.length!==0)throw e.errors[0];const c=e.descriptor.styles.some(o=>o.scoped===!0);c&&(t.__scopeId="data-v-"+n);let p=null;if(e.descriptor.template!==null&&(p={source:e.descriptor.template.content,filename:e.descriptor.filename,id:n,scoped:c,slotted:e.descriptor.slotted,isProd:l,compilerOptions:{mode:"module",sourceMap:i,scopeId:c?"data-v-"+n:void 0,slotted:e.descriptor.slotted},preprocessLang:e.descriptor.template.lang,preprocessCustomRequire:f}),e.descriptor.script!==null||e.descriptor.scriptSetup!==null){const o=T(e.descriptor,{id:n,isProd:l,sourceMap:i});p!==null&&p.compilerOptions!==void 0&&(p.compilerOptions.bindingMetadata=o.bindings);const a=o.content,d=k(a,e.descriptor.filename);Object.assign(t,w(d).exports.default)}if(p!==null){const o=V(p);if(o.errors.length!==0)throw o.errors[0];const a=o.code,d=k(a,e.descriptor.filename);Object.assign(t,w(d).exports)}for(const o of e.descriptor.styles){switch(o.lang){case"sass":case"scss":o.content=F(H+o.content).css,o.lang=void 0;break}const a=j({source:o.content,filename:e.descriptor.filename,id:n,scoped:o.scoped===!0,trim:!0,isProd:l,preprocessLang:o.lang,preprocessCustomRequire:f});if(a.errors.length!==0)throw a.errors[0];s=a.code}return{component:t,stylesheet:s}},D={key:0,class:"PtSfc__error"},N={class:"PtSfc__error-bd"},J=x({__name:"index",props:{code:{},bind:{default:null},on:{default:null}},setup(r){const t=r,s=m(null),n=m(null),l=m(null),i=()=>{try{const{component:e,stylesheet:c}=R(t.code);s.value=O(e),n.value=c,l.value=null}catch(e){s.value=null,n.value=null,l.value=e instanceof Error?e:typeof e=="string"?new Error(e):new Error("unknow error")}};return M(()=>t.code,()=>{i()}),S(()=>{i()}),(e,c)=>l.value!==null?(u(),v("div",D,[c[0]||(c[0]=g("div",{class:"PtSfc__error-hd"},"compile code error",-1)),g("div",N,B(l.value.message),1)])):(u(),v(E,{key:1},[n.value!==null?(u(),h(y("style"),{key:0,type:"text/css",innerHTML:n.value},null,8,["innerHTML"])):_("",!0),s.value!==null?(u(),h(y(s.value),q({key:1},t.bind,C(t.on)),null,16)):_("",!0)],64))}});export{J as default};
